"use strict";$(document).ready((function(){function e(){$("form")[0].reset(),$("body").css("overflow",""),$("input").val(""),$("input").removeClass("success"),$("input").removeClass("error"),$(".err").children("label").remove(),$(".header-mobile").css("background",""),$(".header-mobile__wr").css({"box-shadow":""})}function a(){var e=$("#mail").val(),a=$("#phone").val(),i=$("#name").val();0!=e.length&&0!=a.length&&0!=i.length&&$("#check").is(":checked")?($(".modal__submit").removeAttr("disabled"),$(".modal__submit").css("opacity","1")):$(".modal__submit").attr("disabled","disabled")}$(".header").on("mouseenter",".header__item",(function(){$(this).find(".header__link").addClass("header__link_active"),$(this).find(".header__item_act").fadeIn(),$('div[data-id="'.concat($(this).attr("data-id"),'"')).fadeIn()})),$(".header").on("mouseleave",".header__item",(function(){$(this).find(".header__link").removeClass("header__link_active"),$(this).find(".header__item_act").fadeOut(50),$('div[data-id="'.concat($(this).attr("data-id"),'"')).fadeOut(50)})),$(".header-mobile__hamburger").click((function(){$(".header-mobile").css("background","#fff"),$(this).toggleClass("header-mobile__hamburger_active"),$(this).hasClass("header-mobile__hamburger_active")?($("body").css("overflow","hidden"),$(".header-mobile__body").fadeIn(),$(".header-mobile__wr").css({"box-shadow":""})):($(".header-mobile__body").fadeOut(),$(".header-mobile").css("background",""),$(".header-mobile__head_active").removeClass("header-mobile__head_active").next().slideUp(),$(".header-mobile__link_active").removeClass("header-mobile__link_active").next().slideUp(),$(".active-link").removeClass("active-link").next().slideUp(),$("body").css("overflow",""),$(".overlay, #modal, #thanks").fadeOut(),e())})),$(".header-mobile__head").click((function(){$(this).toggleClass("header-mobile__head_active"),$(this).toggleClass("header-mobile__head_active")&&($(this).toggleClass("header-mobile__head_active").next().slideToggle(),$(".header-mobile__head_active").not(this).removeClass("header-mobile__head_active").next().slideUp(),$(".header-mobile__link-levelone").removeClass("active-link").next().slideUp())})),$(".header-mobile__link-levelone").click((function(){$(this).toggleClass("active-link").next().slideToggle(),$(".active-link").not(this).removeClass("active-link").next().slideUp()})),$(window).on("scroll",(function(){$("video, .opacity").css({opacity:1-.003*$(window).scrollTop()}),$(".products, .next-block").css({height:2*$(window).scrollTop()}),$(".header").css("background","rgb(255, 255, 255)"),0==$(window).scrollTop()&&$(".header").css("background","rgba(255, 255, 255, 0.9)"),$(window).width()<="990"&&($(".products").css({height:10*$(window).scrollTop()}),$(".header-mobile").css({background:"#fff","box-shadow":"0px 5px 5px rgba(0, 0, 0, 0.132586)"}),0==$(window).scrollTop()&&$(".header-mobile").css({background:"","box-shadow":""}))})),$(".main__btn").on("click",(function(){$(".overlay, #modal").fadeIn(300),$("body").css("overflow","hidden"),$(window).width()<="599"&&($(".header-mobile").css("background","#fff"),$(".header-mobile__wr").css({"box-shadow":"0px 5px 5px rgba(0, 0, 0, 0.132586)"}))})),$(".modal__close").on("click",(function(){$(".overlay, #modal, #thanks").fadeOut(),e()})),$(".overlay").click((function(a){0==$(a.target).closest("#modal").length&&($(this).fadeOut(),e())})),$(document).on("keydown",(function(a){27==a.keyCode&&($(".overlay, #modal, #thanks").fadeOut(),e())})),$("input[name=phone]").mask("+7(999)999-9999"),jQuery.validator.addMethod("checkMaskPhone",(function(e,a){return/\+\d{1}\(\d{3}\)\d{3}-\d{4}/g.test(e)})),$("body").on("input","input[name=name]",(function(){this.value=this.value.replace(/[^a-zа-яё\s]/gi,"")})),$(".modal__form").validate({rules:{name:"required",checkbox:"required",phone:{checkMaskPhone:!0},email:{required:!0,email:!0}},validClass:"success",messages:{name:"Пожалуйста, введите свое имя",checkbox:"Поставьте флажок",phone:"Пожалуйста, введите свой номер телефона",email:{required:"Пожалуйста, введите свою почту",email:"Неверно заполнена почта"}},errorPlacement:function(e,a){if("checkbox"==a.attr("type"))return a.next("label").append(e);e.insertAfter($(a));var i=$(a).data("error");i?$(i).append(e):e.insertAfter(a)}}),$(".modal__input").blur((function(){if(!$(this).valid())return $(this).focus(),!1})),$(".modal__input").keyup((function(){$(this).valid(),a()})),$("#check").change((function(){a()})),$("form").submit((function(e){$(this).find("input").val(""),$(this).find("input").removeClass("success"),$("input:checked").prop("checked",!1),$(".modal__submit").attr("disabled","disabled"),$(".modal__submit").css("opacity","0.2"),$(this).find("textarea").val(""),$("#modal").fadeOut(),$(".overlay, #thanks").fadeIn("slow"),$("form").trigger("reset")}))}));